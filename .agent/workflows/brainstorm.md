---
description: 交互式设计澄清 - 在开发前深入理解需求并提出设计方案
---

# Brainstorm - 交互式设计澄清工作流

## 🎯 目标

在开始编码之前,通过主动提问深入理解用户需求,并提出设计方案供审阅。

## 📋 工作流步骤

### 1. 接收需求

用户描述要实现的功能或解决的问题

### 2. 需求澄清 (AI 主动提问)

AI 应该提出以下类型的问题:

#### 功能范围

- 这个功能的核心目标是什么?
- 有哪些必须实现的功能?
- 有哪些可选功能?
- 是否有优先级排序?

#### 技术约束

- 是否需要兼容现有系统?
- 有性能要求吗?(响应时间、并发量)
- 有安全要求吗?
- 需要支持哪些浏览器/设备?

#### 用户体验

- 目标用户是谁?
- 典型使用场景是什么?
- 有 UI/UX 偏好吗?
- 需要哪些交互反馈?

#### 数据和集成

- 需要哪些数据?
- 数据来源是什么?
- 需要集成第三方服务吗?
- 数据如何存储?

#### 测试和部署

- 如何验证功能正确?
- 有测试数据吗?
- 部署环境是什么?

### 3. 设计方案

基于澄清的需求,AI 提出设计方案,包括:

#### 架构设计

```
前端:
- 新增页面: xxx
- 修改组件: xxx
- 新增 API 调用: xxx

后端:
- 新增模块: xxx
- 修改服务: xxx
- 数据库变更: xxx
```

#### 技术选型

- 使用的库/框架
- 理由和权衡

#### 实现步骤

1. 步骤 1
2. 步骤 2
3. ...

#### 风险和挑战

- 潜在风险 1: xxx
  - 缓解措施: xxx
- 潜在风险 2: xxx
  - 缓解措施: xxx

### 4. 用户审阅

用户审阅设计方案,可以:

- ✅ 批准 - 进入下一步
- 🔄 修改 - 调整设计
- ❌ 拒绝 - 重新讨论

### 5. 保存设计文档

设计批准后,保存到 `docs/designs/[feature-name].md`

```markdown
# 功能: [功能名称]

## 需求概述

[需求描述]

## 设计方案

[详细设计]

## 实现计划

[实现步骤]

## 验收标准

- [ ] 标准 1
- [ ] 标准 2

批准时间: 2026-01-18
批准人: [用户名]
```

### 6. 下一步

设计批准后,可以:

- 使用 `/plan` 创建详细任务计划
- 使用 `/worktree` 创建隔离开发环境
- 使用 `/dev` 开始开发

## 💡 示例对话

**用户**: 我想添加邮件通知功能

**AI**: 好的!让我先了解一些细节:

1. **邮件发送时机**:
   - 是定时发送(如每周五)还是事件触发(如值日调整时)?
   - 如果是定时,具体时间是?

2. **邮件内容**:
   - 需要包含哪些信息?(值日人员、日期、其他?)
   - 需要支持自定义邮件模板吗?

3. **收件人**:
   - 只发给值日人员,还是也发给管理员?
   - 需要支持抄送/密送吗?

4. **SMTP 配置**:
   - 已经有 SMTP 服务器了吗?
   - 使用哪个邮件服务商?(QQ邮箱、Gmail、企业邮箱?)

5. **错误处理**:
   - 如果邮件发送失败,需要重试吗?
   - 需要记录发送历史吗?

**用户**: [回答问题]

**AI**: 明白了!基于您的需求,我提出以下设计方案:

[详细设计方案]

您觉得这个方案如何?

## 🔗 相关工作流

- `/plan` - 创建详细任务计划
- `/worktree` - 创建隔离开发环境
- `/dev` - 开始开发
- `/check` - 检查实现完整度

## ⚠️ 注意事项

1. **不要跳过这一步**: 设计澄清能避免返工
2. **鼓励提问**: 没有愚蠢的问题
3. **记录决策**: 设计文档是重要的项目资产
4. **保持灵活**: 设计可以在开发中调整
